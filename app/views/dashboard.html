<div class="jumbotron">
  <p class="lead">
    <img class="logo" src="images/logo.png" alt="Pharos"><br>
    Distributed Docker Monitoring Tool
  </p>
</div>
<div class="panel panel-default">
  <div class="panel-heading">Continaers <a class="btn btn-xs btn-success" ng-click="requestContainer()">Request</a></div>
  <div class="panel-body">
    <ul class="list-group" ng-repeat="container in containers">
      <h3>{{container.hostname}}</h3>
      <div class="list-group-item" ng-repeat="data in container">
        hostname: {{data.hostname}}<br>
        cpu_percent: {{data.metrics[0]}}<br>
        cpu_times_user: {{data.metrics[1]}}<br>
        cpu_times_system: {{data.metrics[2]}}<br>
        memory_percent: {{data.metrics[3]}}<br>
        memory_rss: {{data.metrics[4]}}<br>
        memory_vms: {{data.metrics[5]}}<br>
        io_counter_read: {{data.metrics[6]}}<br>
        io_counter_write: {{data.metrics[7]}}<br>
        network_recv_bytes: {{data.metrics[8]}}<br>
        <div class="panel panel-default">
          <div class="panel-heading">Processes</div>
          <div class="panel-body">
            <div ng-model="tabs.activeTab" bs-tabs>
              <div ng-repeat="process in data.processes" title="{{ process.exe }}" bs-pane>
                <h5>
                  <span ng-repeat="cmd in process.cmdline">
                    {{cmd}}
                  </span>
                </h5>
                <ul>
                  <li>pid: {{process.pid}}</li>
                  <li>cpu_percent: {{process.metrics[0]}}</li>
                  <li>cpu_times_user: {{process.metrics[1]}}</li>
                  <li>cpu_times_system: {{process.metrics[2]}}</li>
                  <li>memory_percent: {{process.metrics[3]}}</li>
                  <li>memory_rss: {{process.metrics[4]}}</li>
                  <li>memory_vms: {{process.metrics[5]}}</li>
                  <li>io_counter_read: {{process.metrics[6]}}</li>
                  <li>network_recv_bytes: {{process.metrics[8]}}</li>
                  <li>io_counter_write: {{process.metrics[7]}}</li>
                  <li>network_send_bytes: {{process.metrics[9]}}</li>
                </ul>
                <div class="panel-group" ng-model="panels.activePanel" bs-collapse>
                  <div class="panel panel-default">
                    <div class="panel-heading">
                      <h4 class="panel-title">
                        <a bs-collapse-toggle>
                          Detail data
                        </a>
                      </h4>
                    </div>
                    <div class="panel-collapse" bs-collapse-target>
                      <div class="panel-body">
                        <pre>{{ process | json }}</pre>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="panel-group" ng-model="panels.activePanel" bs-collapse>
        <div class="panel panel-default">
          <div class="panel-heading">
            <h4 class="panel-title">
              <a bs-collapse-toggle>
                Detail data
              </a>
            </h4>
          </div>
          <div class="panel-collapse" bs-collapse-target>
            <div class="panel-body">
              <pre>{{ container | json }}</pre>
            </div>
          </div>
        </div>
      </div>
    </ul>
  </div>
</div>

<div class="panel panel-default">
  <div class="panel-heading">Docker node <a class="btn btn-xs btn-success" ng-click="requestNode()">Request node</a></div>
  <div class="panel-body">
    <h5>Nodes</h5>
    <ul class="list-group">
      <li class="list-group-item" ng-repeat="node in nodes.nodes">
        {{node.host}} (ID: {{node._id}}, Container: {{node.containers}})
        <a class="btn btn-xs btn-info" ng-click="requestNodeData(node.host)">Request data<span class="glyphicon glyphicon-ok"></span></a>
      </li>
    </ul>
    <h5>Containers</h5>
    <pre>{{ nodeData | json }}</pre>
  </div>
</div>
